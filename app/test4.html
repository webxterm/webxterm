<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="myCanvas" style="width: 80vw; height: 80vh; background-color: #ccc"></canvas>
<script>

    // var c=document.getElementById("myCanvas");
    // var ctx=c.getContext("2d");
    //
    // //在位置 y=100 绘制蓝色线条
    // ctx.strokeStyle="blue";
    // ctx.moveTo(5,100);
    // ctx.lineTo(395,100);
    // ctx.stroke();
    //
    // ctx.font="20px Arial"
    //
    // //在 y=200 以不同的 textBaseline 值放置每个单词
    // ctx.textBaseline="top";
    // ctx.fillText("Top",5,100);
    // ctx.textBaseline="bottom";
    // ctx.fillText("pottom",50,100);
    // ctx.fillText("__",50,99);
    // ctx.textBaseline="middle";
    // ctx.fillText("Middle",120,100);
    // ctx.textBaseline="alphabetic";
    // ctx.fillText("Alphabetic",190,100);
    // ctx.textBaseline="hanging";
    // ctx.fillText("Hanging",290,100);
    const EmojiPrefix = [
        9977,
        127939, 127940, 127946, 127947, 127948,
        127987, 127988, 128008, 128021, 128059,
        128065, 128104, 128105, 128110, 128111,
        128112, 128113, 128115, 128119, 128129,
        128130, 128134, 128135, 128373, 128581,
        128582, 128583, 128587, 128589, 128590,
        128675, 128692, 128693, 128694, 129318,
        129333, 129335, 129336, 129337, 129340,
        129341, 129342, 129464, 129465, 129485,
        129486, 129487, 129489, 129494, 129495,
        129496, 129497, 129498, 129499, 129500,
        129501, 129502, 129503
    ];

    /**
     * 二分法查找
     * @param arr
     * @param num
     * @param startIndex
     * @param stopIndex
     */
    function indexOf(arr, num, startIndex, stopIndex){
        const middleIndex = Math.floor((startIndex + stopIndex)/2),
            middleVal = arr[middleIndex];

        if(middleVal > num){
            // 查询左边
            if(middleIndex == 0){
                return -1;
            }
            return indexOf(arr, num, startIndex, middleIndex);
        } else if(middleVal < num) {
            if(middleIndex == arr.length - 1){
                return -1;
            }
            return indexOf(arr, num, middleIndex, stopIndex);
        }

        return middleIndex;
    }

    function indexOf2(arr, value, len){

        let low = 0, high = len - 1, mid;

        while (low <= high){
            mid = Math.floor((low + high) / 2);
            if(arr[mid] == value) {
                return mid;
            } else if(arr[mid] > value){
                high = mid - 1;
            } else if(arr[mid] < value){
                low = mid + 1;
            }
        }
        return -1;
    }

    // console.info(indexOf(EmojiPrefix, 129503, 0, EmojiPrefix.length));
    // console.info(indexOf2(EmojiPrefix, 1000000, EmojiPrefix.length));
    let arr = Array.from('⏪好𠮷⏪️'), len = arr.length;
    for(let i = 0; i < len; i++){
        console.info("i=" + i + ", " + arr[i].codePointAt(0) + ", " + arr[i].codePointAt(0).toString(16));
        console.info("i=" + i + ", " + arr[i].codePointAt(1));
        let H = Math.floor((arr[i].codePointAt(0) - 0x10000) / 0x400) + 0xD800,
            L = (arr[i].codePointAt(0) - 0x10000) % 0x400 + 0xDC00;

        console.info(H, L);
    }

</script>

</body>
</html>